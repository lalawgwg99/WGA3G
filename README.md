# � 和家訂單識別助手 (WGA3G)

> 🚀 Powered by **Gemini 2.5 Pro** AI + **數位傳真引擎**

## ✨ 功能說明

### 📷 智慧識別

上傳訂單圖片，AI 自動識別：

- 🏪 店點名稱
- 📅 日期時間
- 📋 訂單號碼 (41-xxxxxxxxx)
- 📞 電話號碼
- 🏠 客戶地址
- 📦 商品代碼與品名（支援多商品）

### 📠 數位傳真模式 (全新功能)

解決「照片模糊、印出來看不清楚」的問題：

- 一鍵將彩色照片轉為 **高對比黑白圖**
- 可調整 **黑白閾值** (50-200)
- 列印效果如同傳真機一樣清晰銳利

### 📲 Line 群組分享

- 分享格式符合實務需求：

  ```
  店點：嘉義店 CY
  日期：115/1/2 13:18
  41-321896-001
  電話：05-2330826
  地址：嘉義市通化二街52之2號
  備註：
  ```

- **雙圖附件**：同時分享原圖 + 清晰黑白圖

### 🔢 產品代碼自動識別

| 前綴 | 產品類型 |
|------|----------|
| 41 | 瓦斯爐、熱水器 |
| 42 | 手機、手錶、耳機 |
| 45 | 電腦、平板 |

## 📸 使用流程

1️⃣ 上傳訂單照片  
2️⃣ 選擇模式：**原始照片** 或 **📠 文件模式**  
3️⃣ 點擊「開始識別」  
4️⃣ 檢查並修正識別結果  
5️⃣ 點擊「確認資料正確」分享到 Line

## 🛠️ 技術架構

| 層級 | 技術 |
|------|------|
| 前端 | HTML + JavaScript (原生) |
| 影像處理 | Canvas API 二值化演算法 |
| 後端 | Cloudflare Pages Functions |
| AI 模型 | Google Gemini 2.5 Pro |
| 安全 | API Key 存放於環境變數 |

## 🚀 自行部署

1. Fork 此倉庫
2. 連接至 Cloudflare Pages
3. 設定環境變數 `GEMINI_API_KEY`
4. Build command 留空，Output directory 設為 `/`
5. 完成部署

## 📝 更新日誌

### 2026-01-02

- � **數位傳真模式**: 前端影像二值化引擎
- ⚙️ 可調整黑白閾值
- 📲 分享格式調整為 Line 群組實務格式
- � 雙圖附件（原圖 + 清晰圖）
- 🔢 41 產品代碼（瓦斯爐、熱水器）
- � 表單順序優化（店點→日期→單號→電話→地址→備註）

### 2024-12-31

- 🔄 **模型升級**: gemini-2.5-pro 穩定版
- ✨ 商品刪除功能
- 🎨 清爽藍綠系配色

---
*Designed by 德*

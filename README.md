# 📠 和家訂單識別助手 (WGA3G)

> 🚀 Powered by **Gemini 2.5 Pro** AI + **數位傳真引擎**

## ✨ 功能說明

### 📷 智慧識別

上傳訂單圖片，AI 自動識別：

- 🏪 店點名稱
- 📅 日期時間
- 📋 訂單號碼 (41-xxxxxxxxx)
- 📞 電話號碼
- 🏠 客戶地址
- 📦 商品代碼與品名（支援多商品）

### 📠 數位傳真模式 (全新功能)

解決「照片模糊、印出來看不清楚」的問題：

- 一鍵將彩色照片轉為 **高對比黑白圖**
- 可調整 **黑白閾值** (50-200)
  - 數值越低：黑色越多（適合淺色背景文件）
  - 數值越高：白色越多（適合深色背景或雜訊多）
- 列印效果如同傳真機一樣清晰銳利

**如何調整閾值？**

1. 拍照後點擊「📠 文件模式」按鈕
2. 畫面會出現「⚙️ 黑白閾值調整」滑桿
3. 拖動滑桿即時預覽效果
4. 調整到文字清晰可見為止

### 📲 Line 群組分享

- 分享格式符合實務需求
- **雙圖附件**：同時分享原圖 + 清晰黑白圖

### 🔢 產品代碼自動識別

| 前綴 | 產品類型 |
|------|----------|
| 41 | 瓦斯爐、熱水器、抽油煙機、排油煙機 |

## 📸 使用流程

1️⃣ 上傳訂單照片  
2️⃣ 選擇模式：**原始照片** 或 **📠 文件模式**  
3️⃣ 調整黑白閾值 (50-200) 直到文字清晰  
4️⃣ 點擊「開始識別」  
5️⃣ 檢查並修正識別結果  
6️⃣ 點擊「確認資料正確」分享到 Line

## 🛠️ 技術架構

| 層級 | 技術 |
|------|------|
| 前端 | HTML + JavaScript (原生) |
| 影像處理 | Canvas API 二值化演算法 |
| 後端 | Cloudflare Pages Functions |
| AI 模型 | Google Gemini 2.5 Pro |
| 安全 | API Key 存放於環境變數 |

## 🔒 隱私說明

- 所有圖片處理在雲端完成後即刪除
- 不儲存任何訂單資料
- API Key 安全儲存於伺服器端

## 🚀 自行部署

1. Fork 此倉庫
2. 連接至 Cloudflare Pages
3. 設定環境變數 `GEMINI_API_KEY`
4. Build command 留空，Output directory 設為 `/`
5. 完成部署

## 📝 更新日誌

### 2026-01-02

- 📠 **數位傳真模式**: 前端影像二值化引擎
- ⚙️ 可調整黑白閾值 (50-200)
- 🎨 清爽橘黃色配色
- 📲 分享格式調整為 Line 群組實務格式
- 📸 雙圖附件（原圖 + 清晰圖）
- 🔢 41 產品代碼（瓦斯爐、熱水器、抽油煙機、排油煙機）

---
*Designed by 德*
